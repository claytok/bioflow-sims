<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Review: Essential Tools for Biotransport</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .quick-nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .nav-btn {
            padding: 12px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .math-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .section-title {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        .concept-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .concept-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }
        
        .concept-title {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .math-formula {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 10px 0;
            text-align: center;
            border: 2px solid #bdc3c7;
        }
        
        .example-box {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .example-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .bio-connection {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-style: italic;
        }
        
        .practice-section {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .practice-title {
            color: #856404;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .interactive-demo {
            background: white;
            border: 2px solid #3498db;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .demo-controls {
            margin: 15px 0;
        }
        
        .slider {
            width: 200px;
            margin: 0 10px;
        }
        
        .demo-output {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
        }
        
        .help-section {
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
        }
        
        .help-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .help-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
        }
        
        .emoji {
            font-size: 2em;
            display: block;
            margin-bottom: 10px;
        }
        
        .cheat-sheet {
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 30px 0;
        }
        
        .cheat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .cheat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
        }
        
        .formula-large {
            font-size: 1.3em;
            text-align: center;
            margin: 10px 0;
            line-height: 1.8;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>ğŸ§® Math Review</h1>
            <div class="subtitle">Essential Mathematical Tools for Biotransport Phenomena</div>
            <p><strong>Don't panic!</strong> This page refreshes the math you learned 2-3 years ago. We'll rebuild these skills together as we need them for real biomedical problems.</p>
            
            <div class="quick-nav">
                <a href="#derivatives" class="nav-btn">ğŸ“ˆ Derivatives</a>
                <a href="#vectors" class="nav-btn">ğŸ§­ Vector Calculus</a>
                <a href="#coordinates" class="nav-btn">ğŸ“ Coordinate Systems</a>
                <a href="#odes" class="nav-btn">âš¡ Differential Equations</a>
                <a href="#help" class="nav-btn">ğŸ†˜ Get Help</a>
            </div>
        </div>

        <!-- Partial Derivatives Section -->
        <div class="math-section" id="derivatives">
            <h2 class="section-title">ğŸ“ˆ Partial Derivatives & Chain Rule</h2>
            
            <div class="concept-grid">
                <div class="concept-box">
                    <div class="concept-title">Partial Derivatives</div>
                    <p>When a function depends on multiple variables, we can find how it changes with respect to just one variable while keeping others constant.</p>
                    
                    <div class="math-formula">
                        If f = f(x,y,t), then:<br>
                        âˆ‚f/âˆ‚x = rate of change with respect to x<br>
                        âˆ‚f/âˆ‚y = rate of change with respect to y<br>
                        âˆ‚f/âˆ‚t = rate of change with respect to t
                    </div>
                </div>
                
                <div class="concept-box">
                    <div class="concept-title">Chain Rule</div>
                    <p>When variables depend on other variables, we need the chain rule to find total rates of change.</p>
                    
                    <div class="math-formula">
                        If f = f(u,v) and u = u(x,t), v = v(x,t):<br>
                        âˆ‚f/âˆ‚x = (âˆ‚f/âˆ‚u)(âˆ‚u/âˆ‚x) + (âˆ‚f/âˆ‚v)(âˆ‚v/âˆ‚x)
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">ğŸ©¸ Biomedical Example: Drug Concentration</div>
                <p><strong>Problem:</strong> Drug concentration C(x,t) = 10e^(-x)cos(Ï‰t) mg/L</p>
                <p><strong>Find:</strong> How fast does concentration change with distance? With time?</p>
                <div style="background: white; color: black; padding: 15px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 1.1em; margin: 10px 0; text-align: center; border: 2px solid #bdc3c7;">
                    âˆ‚C/âˆ‚x = -10e^(-x)cos(Ï‰t) mg/L/m<br>
                    âˆ‚C/âˆ‚t = -10Ï‰e^(-x)sin(Ï‰t) mg/L/s
                </div>
            </div>
            
            <div class="bio-connection">
                <strong>Why This Matters in Biotransport:</strong> Drug concentrations depend on position AND time. We need partial derivatives to understand how drugs spread through tissues and how fast they clear from the body.
            </div>
            
            <div class="practice-section">
                <div class="practice-title">ğŸ¯ Quick Practice</div>
                <p><strong>Try this:</strong> If blood flow velocity u(r,t) = (RÂ² - rÂ²)sin(Ï‰t), find âˆ‚u/âˆ‚r and âˆ‚u/âˆ‚t</p>
                <details style="margin-top: 10px;">
                    <summary style="cursor: pointer; font-weight: bold;">Click for answer</summary>
                    <div style="margin-top: 10px;">
                        âˆ‚u/âˆ‚r = -2r sin(Ï‰t)<br>
                        âˆ‚u/âˆ‚t = Ï‰(RÂ² - rÂ²)cos(Ï‰t)
                    </div>
                </details>
            </div>
        </div>

        <!-- Vector Calculus Section -->
        <div class="math-section" id="vectors">
            <h2 class="section-title">ğŸ§­ Vector Calculus</h2>
            
            <div class="concept-grid">
                <div class="concept-box">
                    <div class="concept-title">Gradient (âˆ‡)</div>
                    <p>The gradient points in the direction of steepest increase and tells us how fast a scalar field changes.</p>
                    
                    <div class="math-formula">
                        âˆ‡f = (âˆ‚f/âˆ‚x)i + (âˆ‚f/âˆ‚y)j + (âˆ‚f/âˆ‚z)k
                    </div>
                    
                    <div class="bio-connection">
                        <strong>Bio Example:</strong> âˆ‡C points toward higher drug concentration - this drives diffusion!
                    </div>
                </div>
                
                <div class="concept-box">
                    <div class="concept-title">Divergence (âˆ‡Â·)</div>
                    <p>Divergence tells us how much a vector field is "spreading out" from a point.</p>
                    
                    <div class="math-formula">
                        âˆ‡Â·v = âˆ‚v<sub>x</sub>/âˆ‚x + âˆ‚v<sub>y</sub>/âˆ‚y + âˆ‚v<sub>z</sub>/âˆ‚z
                    </div>
                    
                    <div class="bio-connection">
                        <strong>Bio Example:</strong> âˆ‡Â·vâƒ— = 0 means incompressible flow - blood volume is conserved!
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">ğŸ«€ Biomedical Example: Blood Flow in a Vessel</div>
                <p><strong>Velocity field:</strong> v = (u(r), 0, w) where flow is mainly in z-direction</p>
                <p><strong>Conservation of mass:</strong> âˆ‡Â·v = 0 for incompressible blood</p>
                <div style="background: white; color: black; padding: 15px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 1.1em; margin: 10px 0; text-align: center; border: 2px solid #bdc3c7;">
                    âˆ‡Â·v = âˆ‚u/âˆ‚x + âˆ‚(0)/âˆ‚y + âˆ‚w/âˆ‚z = âˆ‚u/âˆ‚x + âˆ‚w/âˆ‚z = 0
                </div>
                <p>This tells us that if flow speeds up in one direction, it must slow down in another!</p>
            </div>
            
            <div class="interactive-demo">
                <h3>ğŸ® Simple Vector Demo: What is Gradient?</h3>
                <p>The gradient âˆ‡C tells us the <strong>direction and rate</strong> of steepest increase in concentration:</p>
                
                <div class="demo-controls">
                    <label>Peak concentration: <input type="range" class="slider" id="concSlider" min="1" max="10" value="5" step="1"></label>
                    <span id="concValue">5</span> mg/L
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div style="text-align: center;">
                        <canvas id="gradientCanvas" width="300" height="250" style="border: 2px solid #3498db; border-radius: 10px; background: white;"></canvas>
                        <div style="font-size: 12px; margin-top: 10px; color: #666;">
                            <strong>Concentration Field:</strong><br>
                            â€¢ Blue circles = constant concentration<br>
                            â€¢ Red arrows = gradient direction (âˆ‡C)
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                        <h4 style="margin-top: 0; color: #2c3e50;">Key Concepts:</h4>
                        <div style="font-size: 14px; line-height: 1.6;">
                            <strong>Gradient (âˆ‡C):</strong><br>
                            â€¢ Magnitude: <span id="gradMag">0.1</span> mg/L/mm<br>
                            â€¢ Direction: Points toward <em>higher</em> concentration<br><br>
                            
                            <strong>Physical Meaning:</strong><br>
                            â€¢ Steepest uphill direction<br>
                            â€¢ Drug diffuses <em>opposite</em> to âˆ‡C<br>
                            â€¢ Drives mass transport in biology<br><br>
                            
                            <strong>Math:</strong><br>
                            âˆ‡C = (âˆ‚C/âˆ‚x, âˆ‚C/âˆ‚y, âˆ‚C/âˆ‚z)
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coordinate Systems Section -->
        <div class="math-section" id="coordinates">
            <h2 class="section-title">ğŸ“ Coordinate Systems</h2>
            
            <div class="concept-grid">
                <div class="concept-box">
                    <div class="concept-title">Cartesian Coordinates (x, y, z)</div>
                    <p>Good for: rectangular geometries, flat surfaces</p>
                    <div class="math-formula">
                        âˆ‡f = (âˆ‚f/âˆ‚x, âˆ‚f/âˆ‚y, âˆ‚f/âˆ‚z)<br>
                        âˆ‡Â·v = âˆ‚v<sub>x</sub>/âˆ‚x + âˆ‚v<sub>y</sub>/âˆ‚y + âˆ‚v<sub>z</sub>/âˆ‚z
                    </div>
                </div>
                
                <div class="concept-box">
                    <div class="concept-title">Cylindrical Coordinates (r, Î¸, z)</div>
                    <p>Good for: blood vessels, circular pipes, heart chambers</p>
                    <div class="math-formula">
                        x = r cos(Î¸), y = r sin(Î¸), z = z<br>
                        âˆ‡Â·v = (1/r)âˆ‚(rv<sub>r</sub>)/âˆ‚r + (1/r)âˆ‚v<sub>Î¸</sub>/âˆ‚Î¸ + âˆ‚v<sub>z</sub>/âˆ‚z
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">ğŸ©¸ Why Use Cylindrical Coordinates?</div>
                <p><strong>Blood vessel problem:</strong> Flow in a circular artery</p>
                <p><strong>Cartesian approach:</strong> Complex - need to deal with xÂ² + yÂ² = RÂ² boundary</p>
                <p><strong>Cylindrical approach:</strong> Simple - boundary is just r = R</p>
                <div style="background: white; color: black; padding: 15px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 1.1em; margin: 10px 0; text-align: center; border: 2px solid #bdc3c7;">
                    Velocity: u(r) = uâ‚˜â‚â‚“(1 - rÂ²/RÂ²)<br>
                    Much cleaner than u(x,y) = uâ‚˜â‚â‚“(1 - (xÂ² + yÂ²)/RÂ²)!
                </div>
            </div>
            
            <div class="bio-connection">
                <strong>Rule of Thumb:</strong> Use cylindrical coordinates for anything involving blood vessels, catheters, or circular geometries. It makes the math much easier!
            </div>
        </div>

        <!-- Differential Equations Section -->
        <div class="math-section" id="odes">
            <h2 class="section-title">âš¡ Differential Equations</h2>
            
            <div class="concept-grid">
                <div class="concept-box">
                    <div class="concept-title">First-Order ODEs</div>
                    <p>Describe how quantities change over time</p>
                    <div class="math-formula">
                        dy/dt = f(t,y)<br><br>
                        Example: dC/dt = -kC (drug elimination)
                    </div>
                </div>
                
                <div class="concept-box">
                    <div class="concept-title">Partial Differential Equations (PDEs)</div>
                    <p>Describe how quantities change in space AND time</p>
                    <div class="math-formula">
                        âˆ‚C/âˆ‚t = Dâˆ‡Â²C (diffusion equation)<br><br>
                        âˆ‚u/âˆ‚t + uâˆ‚u/âˆ‚x = -âˆ‡p/Ï (Navier-Stokes)
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">ğŸ’Š Drug Clearance Example</div>
                <p><strong>Problem:</strong> Drug concentration decreases proportionally to current amount</p>
                <div style="background: white; color: black; padding: 15px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 1.1em; margin: 10px 0; text-align: center; border: 2px solid #bdc3c7;">
                    dC/dt = -kC<br>
                    Solution: C(t) = Câ‚€e^(-kt)<br>
                    Half-life: tâ‚/â‚‚ = ln(2)/k
                </div>
                <p><strong>MATLAB solution:</strong> [t, C] = ode45(@(t,C) -k*C, [0 24], C0)</p>
            </div>
            
            <div class="practice-section">
                <div class="practice-title">ğŸ¯ Common Biotransport Equations</div>
                <div class="formula-large">
                    <strong>Diffusion:</strong> âˆ‚C/âˆ‚t = Dâˆ‡Â²C<br>
                    <strong>Convection-Diffusion:</strong> âˆ‚C/âˆ‚t + vÂ·âˆ‡C = Dâˆ‡Â²C<br>
                    <strong>Navier-Stokes:</strong> âˆ‚v/âˆ‚t + (vÂ·âˆ‡)v = -âˆ‡p/Ï + Î½âˆ‡Â²v<br>
                    <strong>Continuity:</strong> âˆ‚Ï/âˆ‚t + âˆ‡Â·(Ïv) = 0
                </div>
            </div>
        </div>

        <!-- Cheat Sheet Section -->
        <div class="cheat-sheet">
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ“‹ Quick Reference Cheat Sheet</h2>
            
            <div class="cheat-grid">
                <div class="cheat-item">
                    <h3>ğŸ”¢ Common Derivatives</h3>
                    <div class="formula-large">
                        âˆ‚(xâ¿)/âˆ‚x = nxâ¿â»Â¹<br>
                        âˆ‚(eáµƒË£)/âˆ‚x = aeáµƒË£<br>
                        âˆ‚(sin(ax))/âˆ‚x = a cos(ax)<br>
                        âˆ‚(ln(x))/âˆ‚x = 1/x
                    </div>
                </div>
                
                <div class="cheat-item">
                    <h3>ğŸ§® Vector Operations</h3>
                    <div class="formula-large">
                        AÂ·B = |A||B|cos(Î¸)<br>
                        |v| = âˆš(v<sub>x</sub>Â² + v<sub>y</sub>Â² + v<sub>z</sub>Â²)<br>
                        âˆ‡f = (âˆ‚f/âˆ‚x, âˆ‚f/âˆ‚y, âˆ‚f/âˆ‚z)<br>
                        âˆ‡Â·v = âˆ‚v<sub>x</sub>/âˆ‚x + âˆ‚v<sub>y</sub>/âˆ‚y + âˆ‚v<sub>z</sub>/âˆ‚z
                    </div>
                </div>
                
                <div class="cheat-item">
                    <h3>ğŸ“ Unit Conversions</h3>
                    <div class="formula-large">
                        1 mmHg = 133.322 Pa<br>
                        1 L/min = 1.67Ã—10â»âµ mÂ³/s<br>
                        1 cP = 10â»Â³ PaÂ·s<br>
                        Body temp = 37Â°C = 310.15 K
                    </div>
                </div>
                
                <div class="cheat-item">
                    <h3>ğŸ©¸ Biological Constants</h3>
                    <div class="formula-large">
                        Blood density â‰ˆ 1060 kg/mÂ³<br>
                        Blood viscosity â‰ˆ 4 mPaÂ·s<br>
                        Oâ‚‚ diffusivity â‰ˆ 2Ã—10â»â¹ mÂ²/s<br>
                        Normal BP â‰ˆ 120/80 mmHg
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Section -->
        <div class="help-section" id="help">
            <h2>ğŸ†˜ Getting Help & Building Confidence</h2>
            <p><strong>Remember:</strong> Everyone struggles with math sometimes. What matters is persistence and asking for help!</p>
            
            <div class="help-grid">
                <div class="help-item">
                    <span class="emoji">â°</span>
                    <h3>Math Moments</h3>
                    <p>2-3 minute math refreshers in every class, right when you need the tools for that day's content.</p>
                </div>
                
                <div class="help-item">
                    <span class="emoji">ğŸ•</span>
                    <h3>Office Hours</h3>
                    <p>Come early and often! I'm here to help you succeed, not to judge your math skills.</p>
                </div>
                
                <div class="help-item">
                    <span class="emoji">ğŸ‘¥</span>
                    <h3>Study Groups</h3>
                    <p>Form study groups! Teaching each other is one of the best ways to learn.</p>
                </div>
                
                <div class="help-item">
                    <span class="emoji">ğŸ§®</span>
                    <h3>Online Resources</h3>
                    <p>Khan Academy, Paul's Math Notes, Wolfram Alpha for checking work (not replacing thinking!).</p>
                </div>
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.2); border-radius: 15px;">
                <h3>ğŸ’ª Growth Mindset Reminder</h3>
                <p><strong>"I can't do this YET."</strong> Every successful engineer has felt lost with math at some point. What distinguishes successful engineers is persistence, curiosity, and willingness to ask for help. You've got this! ğŸ¯</p>
            </div>
        </div>
    </div>

    <script>
        // Simple gradient demonstration
        const canvas = document.getElementById('gradientCanvas');
        const ctx = canvas.getContext('2d');
        const concSlider = document.getElementById('concSlider');
        const concValue = document.getElementById('concValue');
        const gradMag = document.getElementById('gradMag');
        
        function drawSimpleGradient() {
            if (!canvas || !ctx) return;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const maxConc = parseFloat(concSlider.value);
            
            // Draw concentration contours (simple circles)
            const contours = [
                {radius: 30, conc: maxConc, color: '#3498db'},
                {radius: 60, conc: maxConc * 0.7, color: '#5dade2'},
                {radius: 90, conc: maxConc * 0.4, color: '#85c1e9'},
                {radius: 120, conc: maxConc * 0.1, color: '#aed6f1'}
            ];
            
            contours.forEach(({radius, conc, color}) => {
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Label the contour
                ctx.fillStyle = color;
                ctx.font = 'bold 10px Arial';
                ctx.fillText(conc.toFixed(1), centerX + radius + 5, centerY);
            });
            
            // Draw source point
            ctx.fillStyle = '#e74c3c';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Label source
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 11px Arial';
            ctx.fillText('SOURCE', centerX - 20, centerY - 15);
            
            // Draw gradient arrows (pointing radially inward toward higher concentration)
            ctx.strokeStyle = '#e74c3c';
            ctx.fillStyle = '#e74c3c';
            ctx.lineWidth = 2;
            
            const numArrows = 6;
            for (let i = 0; i < numArrows; i++) {
                const angle = (i * 2 * Math.PI) / numArrows;
                const arrowStart = 100;
                const arrowEnd = 70;
                
                const startX = centerX + arrowStart * Math.cos(angle);
                const startY = centerY + arrowStart * Math.sin(angle);
                const endX = centerX + arrowEnd * Math.cos(angle);
                const endY = centerY + arrowEnd * Math.sin(angle);
                
                // Arrow line
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                
                // Arrow head (at the END of the arrow, pointing toward center)
                const headSize = 8;
                const headAngle = Math.PI / 6;
                
                // Calculate arrow head points - pointing TOWARD center (inward)
                const headPoint1X = endX + headSize * Math.cos(angle - headAngle);
                const headPoint1Y = endY + headSize * Math.sin(angle - headAngle);
                const headPoint2X = endX + headSize * Math.cos(angle + headAngle);
                const headPoint2Y = endY + headSize * Math.sin(angle + headAngle);
                
                // Draw arrow head
                ctx.beginPath();
                ctx.moveTo(endX, endY);
                ctx.lineTo(headPoint1X, headPoint1Y);
                ctx.moveTo(endX, endY);
                ctx.lineTo(headPoint2X, headPoint2Y);
                ctx.stroke();
            }
            
            // Add simple labels
            ctx.fillStyle = '#2c3e50';
            ctx.font = '12px Arial';
            ctx.fillText('High C', centerX - 15, centerY + 25);
            ctx.fillText('Low C', 10, 25);
            ctx.fillText('âˆ‡C', centerX + 70, centerY - 35);
            
            // Update values
            if (concValue) concValue.textContent = maxConc;
            if (gradMag) gradMag.textContent = (maxConc * 0.02).toFixed(2);
        }
        
        // Initialize demo
        if (concSlider) {
            concSlider.addEventListener('input', drawSimpleGradient);
            drawSimpleGradient();
        }
    </script>
</body>
</html> 